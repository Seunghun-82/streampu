\documentclass{standalone}

\usepackage{tikz}
\usetikzlibrary{aff3ct}

\newcommand{\legendLight}[1][]{
  \begin{scope}[#1]
    \node[draw=Paired-1, rounded corners=0pt, minimum height=0.3cm, minimum width=0.7cm, text=Paired-1, label={right:task}] (l2) at (+0.0, 1.4) {};
    \node[sfwd, label={right:Forward socket}] (l3) at (4.0, 2.0) {};
    \node[sin,  label={right:Input socket} ] (l5) at (4.0, 1.0) {};
    \node[sout, label={right:Output socket}] (l6) at (4.0, 1.5) {};
    \node[] (l9) at (7.0, 1.0) {};
    \node[draw, fit= (l2) (l3) (l5) (l6) (l9)] (legend) {};
  \end{scope}
}

\begin{document}
  \begin{tikzpicture}
    
    %%%%%%%%%%%%%%%%%%
    %% create tasks %%
    %%%%%%%%%%%%%%%%%%
    %     options                          id   coords  label               sin sout sfwd attributes
    %     -------                          --   ------  -----               --- ---- ---- ----------
    \task                                  {t1} {0.5, 0} {$S_{io}$}          {1} {1}  {0}  {};
    \task [below=1.0cm of t1]              {t2} {}       {$S_{io}$}          {1} {1}  {0}  {};
    \task [below=0.25cm of t1,xshift=2cm ] {t3} {}       {$S_{io}$}          {1} {1}  {0}  {};

    \task [below=2.0cm of t3]              {t7} {}       {$S_{io}$}          {1} {1}  {0}  {};
    \task [right=1.0cm of t7]              {t8} {}       {$S_{io}$}          {1} {1}  {0}  {};

    \task [right=4.0cm of t1]              {t4} {0.5, 0} {$S_{io}$}          {1} {1}  {0}  {};
    \task [below=1.0cm of t4]              {t5} {}       {$S_{io}$}          {1} {1}  {0}  {};
    \task [below=0.25cm of t4,xshift=2cm ] {t6} {}       {$S_{fwd}$}         {0} {0}  {1}  {};

    %%%%%%%%%%%%%%%%
    %% bind tasks %%
    %%%%%%%%%%%%%%%%
    %     options                   start id                          path                                      end id
    %     -------                   --------                          ----                                      ------
                                                    
    \draw [bind]                    (t1_so1)                           --                                      (t3_si1);
    \draw [bind]                    (t2_so1)                           --                                      (t3_si1);

    \draw [bind]                    (t7_si1) --++ (-0.25,0.0) --++ (0.0,0.75) --++(2.0,0.0) --++(0.0,-0.75) |- (t8_si1);

    \draw [bind]                    (t4_so1)                           --                                      (t6_si1);
    \draw [bind]                    (t5_so1)                           --                                      (t6_si1);

    %%%%%%%%%%%%%%%%%%%%%
    %% draw the legend %%
    %%%%%%%%%%%%%%%%%%%%%
   \legendLight [shift={(0.0,0.5)}]
  \end{tikzpicture}
\end{document}
