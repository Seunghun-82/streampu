\documentclass{standalone}

\usepackage{tikz}
\usetikzlibrary{aff3ct}

\begin{document}
  \begin{tikzpicture}
    %%%%%%%%%%%%%%%%%%
    %% create tasks %%
    %%%%%%%%%%%%%%%%%%
    %
    % Note:
    %   `\select` & `\commute` are special control flow tasks, there is no need
    %   to set the number of sockets for this type of task. Instead the number
    %   of exclusive paths has to be given.
    %
    %        options                              id    coords label                          sin sout sfwd attributes
    %        -------                              --    ------ -----                          --- ---- ---- ----------
    \task                                         {t1}  {1, 0} {$t_1$}                        {0} {1}  {0}  {"seq"};
    \task    [right=1.00cm of t1]                 {t3}  {}     {$t_2$}                        {1} {2}  {0}  {"seq"};
    \commute  [right=1.00cm of t3]                 {t4}  {}     {commute\\($t_3)$}              {3}           {};
    \task    [right=1.00cm of t4, yshift=-2.50cm]{t7}  {}     {$t_4$}                        {1} {1}  {0}  {"seq"};
    \task    [right=1.00cm of t4, yshift=0.0cm]                 {t8}  {}     {$t_5$}                        {1} {1}  {0}  {"seq"};
    \task    [right=1.00cm of t4,yshift=+2.50cm]                 {t9}  {}     {$t_6$}                        {1} {1}  {0}  {"seq"};
    \select [right=1.00cm of t8] {t6}  {}     {select\\($t_7$)}             {3}           {};
    \task    [right=1.00cm of t6]                 {t11} {}     {$t_{8}$}                     {1} {1}  {0}  {"seq"};
    \task    [right=1.00cm of t11]                {t12} {}     {$t_{9}$}                     {1} {0}  {0}  {"seq"};

    % cosmetics, just for fun ;-)
    \merge   [shift={(10.5, -1.3)}, scale=0.4] {Paired-1}
    \diverge [shift={(05.8, -1.3)}, scale=0.4] {Paired-1}

    %%%%%%%%%%%%%%%%%%%%%
    %% clone the tasks %%
    %%%%%%%%%%%%%%%%%%%%%
    %      options  task ids                              n clones
    %      -------  --------                              --------
    %%%%%%%%%%%%%%%%%%%%
    %% create modules %%
    %%%%%%%%%%%%%%%%%%%%
    %     options      task ids    id   label
    %     -------      --------    --   -----
    \module [very thick] {"t4"} {m1} {\textbf{Switcher}};
    \module [very thick] {"t6"} {m1} {\textbf{Switcher}};
    %%%%%%%%%%%%%%%%
    %% bind tasks %%
    %%%%%%%%%%%%%%%%
    %     options                   start id  path             end id
    %     -------                   --------  ----             ------
    \draw [bind]                    (t1_so1)                -- (t3_si1);
    \draw [bind] (t3_so1)  --++ (0.50,0) |- (t4_si1);
    \draw [bind] (t3_so2)  --++ (0.50,0) |- (t4_si2);

    \draw [bind,densely dashdotted]                    (t4_so1)  --++ (0.50,0) |- (t9_si1);
    \draw [bind,densely dashdotted]                    (t4_so2)  --++ (0.50,0) |- (t8_si1);
    \draw [bind,densely dashdotted]                    (t4_so3)  --++ (0.50,0) |- (t7_si1);
    \draw [bind,densely dashdotted]                    (t7_so1)  --++ (0.50,0) |- (t6_si3);
    \draw [bind,densely dashdotted]                    (t8_so1)  --++ (0.50,0) |- (t6_si2);
    \draw [bind,densely dashdotted]                    (t9_so1)  --++ (0.50,0) |- (t6_si1);
    \draw [bind]                    (t6_so1)                -- (t11_si1);
    \draw [bind]                    (t11_so1)               -- (t12_si1);

    %%%%%%%%%%%%%%%%%%%
    %% create stages %%
    %%%%%%%%%%%%%%%%%%%
    %      options                                    object ids                       id   label     n threads
    %      -------                                    ----------                       --   -----     ---------

    %%%%%%%%%%%%%%%%%%%%%
    %% draw the legend %%
    %%%%%%%%%%%%%%%%%%%%%
    \legend [shift={(0.0,3.5)}]
  \end{tikzpicture}
\end{document}
